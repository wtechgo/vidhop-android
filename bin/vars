#!/bin/bash

shared="/data/data/com.termux/files/home/storage/shared"
vidhop_dir="$shared/VidHop"
vidhop_app_dir="/data/data/com.termux/files/usr/opt/vidhop"  # already defined in loader
bin_dir="/data/data/com.termux/files/usr/opt/vidhop/bin"  # already defined in loader
scrape_channel_avatar_img_py="$bin_dir/scrape_channel_avatar_img.py"

# media
vids_dir="$vidhop_dir/videos"
channels_dir="$vidhop_dir/channels"
music_dir="$vidhop_dir/music"
podcasts_dir="$vidhop_dir/podcasts"
thumbnails_dir="$vidhop_dir/thumbnails"
# metadata
meta_dir="$vidhop_dir/metadata"
vids_meta_dir="$meta_dir/videos"
channels_meta_dir="$meta_dir/channels"
music_meta_dir="$meta_dir/music"
podcasts_meta_dir="$meta_dir/podcasts"
thumbnails_meta_dir="$meta_dir/thumbnails"
# log
log_dir="$vidhop_dir/log"
log_file="$log_dir/vidhop.log"
log_json_file="$log_dir/json.log"
vhistory_file="$log_dir/vhistory.log"
chistory_file="$log_dir/chistory.log"
ahistory_file="$log_dir/ahistory.log"
phistory_file="$log_dir/phistory.log"
thistory_file="$log_dir/thistory.log"
titles_file="$log_dir/titles.log"
downloaded_dir="$log_dir/downloaded"
# batch
import_dir="$vidhop_dir/import"
export_dir="$vidhop_dir/export"
fvid_export_dir="$export_dir/fvid"
wp_export_dir="$export_dir/wp"

# default applications
video_app="termux-open"
audio_app="termux-open"
picture_app="termux-open"
picture_app_alt="termux-open"
text_app="termux-open"

termux_screen_char_count=53

# .bashrc shortkeys
alias cdvidhop='cd $vidhop_dir'
alias cdappdir='cd $vidhop_app_dir'
alias cdvidhopbin='cd $bin_dir'
alias cdvbin='cd $bin_dir'
alias cdvid='cd $vids_dir'
alias cdchan='cd $channels_dir'
alias cdmeta='cd $meta_dir'
alias cdvidmeta='cd $vids_meta_dir'
alias cdchanmeta='cd $channels_meta_dir'
alias cdmusic='cd $music_dir'
alias cdthumbs='cd $thumbnails_dir'
alias cdpods='cd $podcasts_dir'
alias cddownloaded='cd $downloaded_dir'
alias cdlogs='cd $log_dir'

alias llvidhop='ls -l $vidhop_dir'
alias llvid='ls -l $vids_dir'
alias llchan='ls -l $channels_dir'
alias llmeta='ls -l $meta_dir'
alias llvidmeta='ls -l $vids_meta_dir'
alias llchanmeta='ls -l $channels_meta_dir'
alias llthumbs='ls -l $thumbnails_dir'
alias llpods='ls -l $podcasts_dir'
alias lldownloaded='ls -l $downloaded_dir'
alias lllogs='ls -l $log_dir'

alias nanodlv='nano $bin_dir/dlv'
alias nanofvid='nano $bin_dir/fvid'
alias nanosync='nano $bin_dir/sync'
alias nanofiles='nano $bin_dir/files'
alias nanovars='nano $bin_dir/vars'
alias nanocommon='nano $bin_dir/common'
alias nanohistory='nano $bin_dir/history'
alias nanoloader='nano $bin_dir/loader'

# color codes
BLACK='\e[30m'
RED='\e[31m'
GREEN='\e[32m'
ORANGE='\e[33m'
BLUE='\e[34m'
PURPLE='\e[35m'
CYAN='\e[36m'
LIGHTGRAY='\e[37m'
DARKGRAY='\e[30m'
YELLOW='\e[33m'
NC='\033[0m' # No Color


platform_names=(
  archive
  bitchute
  brandnewtube
  dailymotion
  instagram
  facebook
  fb.watch
  odysee
  rokfin
  rumble
  tiktok
  twitter
  twitch
  ugetube
  vimeo
  youtube
  youtu.be
  zoom
  abc
  abcnews
  abcotvs
  academicearth
  acast
  adn
  adobeconnect
  adobepass
  adobetv
  adultswim
  aenetworks
  afreecatv
  airmozilla
  aliexpress
  aljazeera
  allocine
  alphaporno
  alura
  amara
  amazon
  amcnetworks
  americastestkitchen
  amp
  animelab
  animeondemand
  anvato
  aol
  apa
  aparat
  appleconnect
  applepodcasts
  appletrailers
  archiveorg
  arcpublishing
  ard
  arkena
  arnes
  arte
  asiancrush
  atresplayer
  atttechchannel
  atvat
  audimedia
  audioboom
  audiomack
  audius
  awaan
  aws
  azmedien
  baidu
  bandaichannel
  bandcamp
  bannedvideo
  bbc
  beatport
  beeg
  behindkink
  bellmedia
  bet
  bfi
  bfmtv
  bibeltv
  bigflix
  bild
  bilibili
  biobiochiletv
  biqle
  bitwave
  blackboardcollaborate
  bleacherreport
  blinkx
  blogger
  bloomberg
  bokecc
  bongacams
  bostonglobe
  box
  bpb
  br
  bravotv
  breakcom
  breitbart
  brightcove
  businessinsider
  buzzfeed
  byutv
  c56
  cableav
  callin
  cam4
  camdemy
  cammodels
  camwithher
  canalalpha
  canalc2
  canalplus
  canvas
  carambatv
  cartoonnetwork
  cbc
  cbs
  cbsinteractive
  cbslocal
  cbsnews
  cbssports
  ccc
  ccma
  cctv
  cda
  ceskatelevize
  cgtn
  channel9
  charlierose
  chaturbate
  chilloutzone
  chingari
  chirbit
  cinchcast
  cinemax
  ciscolive
  ciscowebex
  cjsw
  cliphunter
  clippit
  cliprs
  clipsyndicate
  closertotruth
  cloudflarestream
  cloudy
  clubic
  clyp
  cmt
  cnbc
  cnn
  comedycentral
  common
  commonmistakes
  commonprotocols
  condenast
  contv
  corus
  coub
  cozytv
  cracked
  crackle
  crooksandliars
  crowdbunker
  crunchyroll
  cspan
  ctsnews
  ctv
  ctvnews
  cultureunplugged
  curiositystream
  cwtv
  daftsex
  dailymail
  damtomo
  daum
  dbtv
  dctp
  deezer
  defense
  democracynow
  dfb
  dhm
  digg
  digitalconcerthall
  digiteka
  discovery
  discoverygo
  discoveryvr
  disney
  dispeak
  dlive
  doodstream
  dotsub
  douyutv
  dplay
  drbonanza
  dreisat
  drooble
  dropbox
  dropout
  drtuber
  drtv
  dtube
  duboku
  dumpert
  dvtv
  dw
  eagleplatform
  ebaumsworld
  echomsk
  egghead
  ehow
  eighttracks
  einthusan
  eitb
  ellentube
  elonet
  elpais
  embedly
  engadget
  epicon
  eporner
  eroprofile
  ertgr
  escapist
  espn
  esri
  europa
  europeantour
  euscreen
  everyonesmixtape
  expotv
  expressen
  extractors
  extremetube
  eyedotv
  fancode
  faz
  fc2
  fczenit
  filmmodu
  filmon
  filmweb
  firsttv
  fivemin
  fivetv
  flickr
  folketinget
  footyroom
  formula1
  fourtube
  fox
  fox9
  foxgay
  foxnews
  foxsports
  franceculture
  franceinter
  francetv
  freesound
  freespeech
  freshlive
  frontendmasters
  fujitv
  funimation
  funk
  fusion
  fxnetworks
  gab
  gaia
  gameinformer
  gamejolt
  gamespot
  gamestar
  gaskrank
  gazeta
  gdcvault
  gedidigital
  generic
  gettr
  gfycat
  giantbomb
  giga
  gigya
  glide
  globo
  glomex
  go
  godtube
  gofile
  golem
  googledrive
  googlepodcasts
  googlesearch
  gopro
  goshgay
  gotostage
  gputechconf
  gronkh
  groupon
  hbo
  hearthisat
  heise
  hellporno
  helsinki
  hentaistigma
  hgtv
  hidive
  historicfilms
  hitbox
  hitrecord
  hketv
  hornbunny
  hotnewhiphop
  hotstar
  howcast
  howstuffworks
  hrfensehen
  hrti
  hse
  huajiao
  huffpost
  hungama
  hypem
  ichinanalive
  ign
  iheart
  imdb
  imggaming
  imgur
  ina
  inc
  indavideo
  infoq
  internazionale
  internetvideoarchive
  iprima
  iqiyi
  ir90tv
  itv
  ivi
  ivideon
  iwara
  izlesene
  jamendo
  jeuxvideo
  joj
  jove
  jwplatform
  kakao
  kaltura
  kanalplay
  kankan
  karaoketv
  karrierevideos
  keezmovies
  kelbyone
  ketnet
  khanacademy
  kickstarter
  kinja
  kinopoisk
  konserthusetplay
  koo
  krasview
  ku6
  kusi
  kuwo
  la7
  laola1tv
  lbry
  lci
  lcp
  lecture2go
  lecturio
  leeco
  lego
  lemonde
  lenta
  libraryofcongress
  libsyn
  lifenews
  limelight
  line
  linkedin
  linuxacademy
  litv
  livejournal
  livestream
  lnkgo
  localnews8
  lovehomeporn
  lrt
  lynda
  m6
  magentamusik360
  mailru
  mainstreaming
  malltv
  mangomolo
  manoto
  manyvids
  maoritv
  markiza
  massengeschmacktv
  matchtv
  mdr
  medaltv
  mediaite
  mediaklikk
  medialaan
  mediaset
  mediasite
  medici
  megaphone
  megatvcom
  meipai
  melonvod
  meta
  metacafe
  metacritic
  mgoon
  mgtv
  miaopai
  microsoftstream
  microsoftvirtualacademy
  mildom
  minds
  ministrygrid
  minoto
  miomio
  mirrativ
  mit
  mitele
  mixch
  mixcloud
  mlb
  mlssoccer
  mnet
  moevideo
  mofosex
  mojvideo
  morningstar
  motherless
  motorsport
  movieclips
  moviezine
  movingimage
  msn
  mtv
  muenchentv
  musescore
  musicdex
  mwave
  mxplayer
  mychannels
  myspace
  myspass
  myvi
  myvideoge
  myvidster
  n1
  nate
  nationalgeographic
  naver
  nba
  nbc
  ndr
  ndtv
  nebula
  nerdcubed
  neteasemusic
  netzkino
  newgrounds
  newstube
  newsy
  nextmedia
  nexx
  nfhsnetwork
  nfl
  nhk
  nhl
  nick
  niconico
  ninecninemedia
  ninegag
  ninenow
  nintendo
  nitter
  njpwworld
  nobelprize
  noco
  nonktube
  noodlemagazine
  noovo
  normalboots
  nosvideo
  nova
  novaplay
  nowness
  noz
  npo
  npr
  nrk
  nrl
  ntvcojp
  ntvde
  ntvru
  nuevo
  nuvid
  nytimes
  nzherald
  nzz
  odatv
  odnoklassniki
  oktoberfesttv
  olympics
  on24
  once
  ondemandkorea
  onefootball
  onet
  onionstudios
  ooyala
  opencast
  openload
  openrec
  ora
  orf
  outsidetv
  packtpub
  palcomp3
  pandoratv
  paramountplus
  parliamentliveuk
  parlview
  patreon
  pbs
  pearvideo
  peertube
  peertv
  peloton
  people
  performgroup
  periscope
  philharmoniedeparis
  phoenix
  photobucket
  picarto
  piksel
  pinkbike
  pinterest
  pixivsketch
  pladform
  planetmarathi
  platzi
  playfm
  playplustv
  plays
  playstuff
  playtvak
  playvid
  playwire
  pluralsight
  plutotv
  podomatic
  pokemon
  pokergo
  polsatgo
  polskieradio
  popcorntimes
  popcorntv
  porn91
  porncom
  pornez
  pornflip
  pornhd
  pornhub
  pornotube
  pornovoisines
  pornoxo
  presstv
  projectveritas
  prosiebensat1
  prx
  puhutv
  puls4
  pyvideo
  qqmusic
  r7
  radiko
  radiobremen
  radiocanada
  radiode
  radiofrance
  radiojavan
  radiokapital
  radiozet
  radlive
  rai
  raywenderlich
  rbmaradio
  rcs
  rcti
  rds
  redbulltv
  reddit
  redgifs
  redtube
  regiotv
  rentv
  restudy
  reuters
  reverbnation
  rice
  rmcdecouverte
  ro220
  rockstargames
  roosterteeth
  rottentomatoes
  roxwel
  rozhlas
  rtbf
  rte
  rtl2
  rtlnl
  rtnews
  rtp
  rtrfm
  rts
  rtve
  rtvnh
  rtvs
  ruhd
  rule34video
  rutube
  rutv
  ruutu
  ruv
  safari
  saitosan
  samplefocus
  sapo
  savefrom
  sbs
  screencast
  screencastomatic
  scrippsnetworks
  scte
  seeker
  senategov
  sendtonews
  servus
  sevenplus
  sexu
  seznamzpravy
  shahid
  shared
  shemaroome
  showroomlive
  simplecast
  sina
  sixplay
  skeb
  sky
  skyit
  skylinewebcams
  skynewsarabia
  skynewsau
  slideshare
  slideslive
  slutload
  snotr
  sohu
  sonyliv
  soundcloud
  soundgasm
  southpark
  sovietscloset
  spankbang
  spankwire
  spiegel
  spiegeltv
  spike
  sport5
  sportbox
  sportdeutschland
  spotify
  spreaker
  springboardplatform
  sprout
  srgssr
  srmediathek
  stanfordoc
  startv
  steam
  stitcher
  storyfire
  streamable
  streamanity
  streamcloud
  streamcz
  streamff
  streetvoice
  stretchinternet
  stripchat
  stv
  sunporno
  sverigesradio
  svt
  swrmediathek
  syfy
  sztvhu
  tagesschau
  tass
  tastytrade
  tbs
  tdslifeway
  teachable
  teachertube
  teachingchannel
  teamcoco
  teamtreehouse
  techtalks
  ted
  tele5
  tele13
  telebruxelles
  telecinco
  telegraaf
  telemb
  telemundo
  telequebec
  teletask
  telewebion
  tennistv
  tenplay
  testurl
  tf1
  tfo
  theintercept
  theplatform
  thescene
  thestar
  thesun
  theta
  theweatherchannel
  thisamericanlife
  thisav
  thisoldhouse
  threeqsdn
  threespeak
  tinypic
  tmz
  tnaflix
  toggle
  toggo
  tokentube
  tonline
  toongoggles
  toutv
  toypics
  traileraddict
  trilulilu
  trovo
  trueid
  trunews
  trutv
  tube8
  tubitv
  tudou
  tumblr
  tunein
  tunepk
  turbo
  turner
  tv2
  tv2dk
  tv2hu
  tv4
  tv5mondeplus
  tv5unis
  tva
  tvanouvelles
  tvc
  tver
  tvigle
  tvland
  tvn24
  tvnet
  tvnoe
  tvnow
  tvopengr
  tvp
  tvplay
  tvplayer
  tweakers
  twentyfourvideo
  twentymin
  twentythreevideo
  twitcasting
  udemy
  udn
  ufctv
  ukcolumn
  uktvplay
  umg
  unistra
  unity
  uol
  uplynk
  urort
  urplay
  usanetwork
  usatoday
  ustream
  ustudio
  utreon
  varzesh3
  vbox7
  veehd
  veo
  veoh
  vesti
  vevo
  vgtv
  vh1
  vice
  vidbit
  viddler
  videa
  videodetective
  videofyme
  videomore
  videopress
  vidio
  vidlii
  vidzi
  vier
  viewlift
  viidea
  viki
  vimm
  vimple
  vine
  viqeo
  viu
  vk
  vlive
  vodlocker
  vodpl
  vodplatform
  voicerepublic
  voicy
  voot
  voxmedia
  vrak
  vrt
  vrv
  vshare
  vtm
  vube
  vuclip
  vupload
  vvvvid
  vyborymos
  vzaar
  wakanim
  walla
  washingtonpost
  wat
  watchbox
  watchindianporn
  wdr
  webcaster
  webofstories
  weibo
  weiqitv
  whowatch
  willow
  wimtv
  wistia
  worldstarhiphop
  wppilot
  wsj
  wwe
  xbef
  xboxclips
  xfileshare
  xhamster
  xiami
  ximalaya
  xminus
  xnxx
  xstream
  xtube
  xuite
  xvideos
  xxxymovies
  yahoo
  yandexdisk
  yandexmusic
  yandexvideo
  yapfiles
  yesjapan
  yinyuetai
  ynet
  youjizz
  youku
  younow
  youporn
  yourporn
  yourupload
  zapiks
  zaq1
  zattoo
  zdf
  zee5
  zhihu
  zingmp3
  zype
)
